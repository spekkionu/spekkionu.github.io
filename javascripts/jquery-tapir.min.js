(function(e){function i(e){var t=(new RegExp("[\\?&]"+e+"=([^&#]*)")).exec(window.location.href);return t?t[1]:!1}var t,n={},r={init:function(r){return t=this,n={token:!1,query_param:"query"},r&&e.extend(n,r),!n.token||n.query_param==""?this:(e.ajax({url:"http://tapirgo.com/api/1/search.json",dataType:"jsonp",data:{token:n.token,query:i(n.query_param)},success:function(r){n.complete&&n.complete(),e.each(r,function(e,n){var r=moment(n.published_on);t.append("<h2>"+r.format("YYYY")+'</h2><article><h1><a href="'+n.link+'">'+n.title+'</a></h1><time datetime="'+n.published_on+'" pubdate><span class="month">'+r.format("MMM")+'</span> <span class="day">'+r.format("DD")+'</span> <span class="year">'+r.format("YYYY")+"</span></time><footer>"+n.summary+"</footer></article>")})}}),this)}};e.fn.tapir=function(t){if(r[t])return r[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return r.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.tapir")}})(jQuery);
