function getNav(){var e=$("ul.main-navigation, ul[role=main-navigation]").before('<fieldset class="mobile-nav">'),t=$("fieldset.mobile-nav").append("<select>");t.find("select").append('<option value="">Navigate&hellip;</option>');var n=function(e,n){t.find("select").append('<option value="'+this.href+'">&raquo; '+$(this).text()+"</option>")};e.find("a").each(n),$("ul.subscription a").each(n),t.find("select").bind("change",function(e){e.target.value&&(window.location.href=e.target.value)})}function addSidebarToggler(){$("body").hasClass("sidebar-footer")||($("#content").append('<span class="toggle-sidebar"></span>'),$(".toggle-sidebar").bind("click",function(e){e.preventDefault(),$("body").toggleClass("collapse-sidebar")}));var e=$("aside.sidebar > section");e.length>1&&e.each(function(t,n){e.length>=3&&t%3===0&&$(n).addClass("first");var r=(t+1)%2?"odd":"even";$(n).addClass(r)}),e.length>=3&&$("aside.sidebar").addClass("thirds")}function testFeatures(){var e=["maskImage"];$(e).map(function(e,t){Modernizr.testAllProps(t)?$("html").addClass(t):$("html").addClass("no-"+t)}),"placeholder"in document.createElement("input")?$("html").addClass("placeholder"):$("html").addClass("no-placeholder")}function addCodeLineNumbers(){if(navigator.appName==="Microsoft Internet Explorer")return;$("div.gist-highlight").each(function(e){var t='<table><tbody><tr><td class="gutter">',n='<pre class="line-numbers">',r='</pre></td><td class="code">',i="</td></tr></tbody></table>",s=$(".line",e).length;for(var o=1;o<=s;o++)n+='<span class="line-number">'+o+"</span>\n";var u=t+n+r+"<pre>"+$("pre",e).html()+"</pre>"+i;$(e).html(u)})}function flashVideoFallback(){var e="/assets/jwplayer/player.swf",t="/assets/jwplayer/glow/glow.xml";$("video").each(function(n,r){r=$(r);if(!Modernizr.video.h264&&swfobject.getFlashPlayerVersion()||window.location.hash.indexOf("flash-test")!==-1)r.children("source[src$=mp4]").first().map(n,function(n){var i=$(n).attr("src"),s="video_"+Math.round(1+Math.random()*1e5),o=r.attr("width"),u=parseInt(r.attr("height"),10)+30;r.after('<div class="flash-video"><div><div id='+s+">"),swfobject.embedSWF(e,s,o,u+30,"9.0.0",{file:i,image:r.attr("poster"),skin:t},{movie:i,wmode:"opaque",allowfullscreen:"true"})}),r.remove()})}function wrapFlashVideos(){$("object").each(function(e,t){$(t).find("param[name=movie]").length&&$(t).wrap('<div class="flash-video">')}),$("iframe[src*=vimeo],iframe[src*=youtube]").wrap('<div class="flash-video">')}function renderDeliciousLinks(e){var t="<ul>";for(var n=0,r=e.length;n<r;n++)t+='<li><a href="'+e[n].u+'" title="Tags: '+(e[n].t==""?"":e[n].t.join(", "))+'">'+e[n].d+"</a></li>";t+="</ul>",$("#delicious").html(t)}$("document").ready(function(){testFeatures(),wrapFlashVideos(),flashVideoFallback(),addCodeLineNumbers(),getNav(),addSidebarToggler()}),function(e){function o(){s.content="width=device-width,minimum-scale="+i[0]+",maximum-scale="+i[1],e.removeEventListener(n,o,!0)}var t="addEventListener",n="gesturestart",r="querySelectorAll",i=[1,1],s=r in e?e[r]("meta[name=viewport]"):[];(s=s[s.length-1])&&t in e&&(o(),i=[.25,1.6],e[t](n,o,!0))}(document),
/*!	SWFObject v2.2 modified by Brandon Mathis to contain only what is necessary to dynamically embed flash objects
  * Uncompressed source in javascripts/libs/swfobject-dynamic.js
  * <http://code.google.com/p/swfobject/>
	released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/
;var swfobject=function(){function e(e,n,r){var u,f=t(r);if(l.wk&&l.wk<312)return u;if(f){typeof e.id==i&&(e.id=r);if(l.ie&&l.win){var c="",h;for(h in e)e[h]!=Object.prototype[h]&&(h.toLowerCase()=="data"?n.movie=e[h]:h.toLowerCase()=="styleclass"?c+=' class="'+e[h]+'"':h.toLowerCase()!="classid"&&(c+=" "+h+'="'+e[h]+'"'));h="";for(var p in n)n[p]!=Object.prototype[p]&&(h+='<param name="'+p+'" value="'+n[p]+'" />');f.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+c+">"+h+"</object>",u=t(e.id)}else{p=a.createElement(s),p.setAttribute("type",o);for(var d in e)e[d]!=Object.prototype[d]&&(d.toLowerCase()=="styleclass"?p.setAttribute("class",e[d]):d.toLowerCase()!="classid"&&p.setAttribute(d,e[d]));for(c in n)n[c]!=Object.prototype[c]&&c.toLowerCase()!="movie"&&(e=p,h=c,d=n[c],r=a.createElement("param"),r.setAttribute("name",h),r.setAttribute("value",d),e.appendChild(r));f.parentNode.replaceChild(p,f),u=p}}return u}function t(e){var t=null;try{t=a.getElementById(e)}catch(n){}return t}function n(e){var t=l.pv,e=e.split(".");return e[0]=parseInt(e[0],10),e[1]=parseInt(e[1],10)||0,e[2]=parseInt(e[2],10)||0,t[0]>e[0]||t[0]==e[0]&&t[1]>e[1]||t[0]==e[0]&&t[1]==e[1]&&t[2]>=e[2]?!0:!1}function r(e){return/[\\\"<>\.;]/.exec(e)!=null&&typeof encodeURIComponent!=i?encodeURIComponent(e):e}var i="undefined",s="object",o="application/x-shockwave-flash",u=window,a=document,f=navigator,l=function(){var e=typeof a.getElementById!=i&&typeof a.getElementsByTagName!=i&&typeof a.createElement!=i,t=f.userAgent.toLowerCase(),n=f.platform.toLowerCase(),r=n?/win/.test(n):/win/.test(t),n=n?/mac/.test(n):/mac/.test(t),t=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,l=!1,c=[0,0,0],h=null;if(typeof f.plugins!=i&&typeof f.plugins["Shockwave Flash"]==s)(h=f.plugins["Shockwave Flash"].description)&&(typeof f.mimeTypes==i||!f.mimeTypes[o]||!!f.mimeTypes[o].enabledPlugin)&&(l=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),c[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),c[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,"$1"),10),c[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof u.ActiveXObject!=i)try{var p=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");p&&(h=p.GetVariable("$version"))&&(l=!0,h=h.split(" ")[1].split(","),c=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(d){}return{w3:e,pv:c,wk:t,ie:l,win:r,mac:n}}();return{embedSWF:function(t,r,o,u,a,f,c,h,p){var d={success:!1,id:r};if(l.w3&&!(l.wk&&l.wk<312)&&t&&r&&o&&u&&a){o+="",u+="";var v={};if(h&&typeof h===s)for(var m in h)v[m]=h[m];v.data=t,v.width=o,v.height=u,t={};if(c&&typeof c===s)for(var y in c)t[y]=c[y];if(f&&typeof f===s)for(var b in f)typeof t.flashvars!=i?t.flashvars+="&"+b+"="+f[b]:t.flashvars=b+"="+f[b];n(a)&&(r=e(v,t,r),d.success=!0,d.ref=r)}p&&p(d)},ua:l,getFlashPlayerVersion
:function(){return{major:l.pv[0],minor:l.pv[1],release:l.pv[2]}},hasFlashPlayerVersion:n,createSWF:function(t,n,r){if(l.w3)return e(t,n,r)},getQueryParamValue:function(e){var t=a.location.search||a.location.hash;if(t){/\?/.test(t)&&(t=t.split("?")[1]);if(e==null)return r(t);for(var t=t.split("&"),n=0;n<t.length;n++)if(t[n].substring(0,t[n].indexOf("="))==e)return r(t[n].substring(t[n].indexOf("=")+1))}return""}}}();
